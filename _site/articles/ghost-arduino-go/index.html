<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>A Ghost, an Arduino and Go &#8211; Dave's Hacks</title>
<meta name="description" content="Controlling an LED lamp with an arduino and a Go web service">
<meta name="keywords" content="arduino, Go">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://community.dur.ac.uk/d.a.t.roberts/images/">
<meta name="twitter:title" content="A Ghost, an Arduino and Go">
<meta name="twitter:description" content="Controlling an LED lamp with an arduino and a Go web service">
<meta name="twitter:creator" content="@biomood">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="A Ghost, an Arduino and Go">
<meta property="og:description" content="Controlling an LED lamp with an arduino and a Go web service">
<meta property="og:url" content="http://community.dur.ac.uk/d.a.t.roberts/d.a.t.roberts/articles/ghost-arduino-go">
<meta property="og:site_name" content="Dave's Hacks">





<link rel="canonical" href="http://community.dur.ac.uk/d.a.t.roberts/d.a.t.roberts/articles/ghost-arduino-go">
<link href="http://community.dur.ac.uk/d.a.t.roberts/feed.xml" type="application/atom+xml" rel="alternate" title="Dave's Hacks Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://community.dur.ac.uk/d.a.t.roberts/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="http://community.dur.ac.uk/d.a.t.roberts/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://community.dur.ac.uk/d.a.t.roberts/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://community.dur.ac.uk/d.a.t.roberts/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://community.dur.ac.uk/d.a.t.roberts/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://community.dur.ac.uk/d.a.t.roberts/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://community.dur.ac.uk/d.a.t.roberts/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://community.dur.ac.uk/d.a.t.roberts/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://community.dur.ac.uk/d.a.t.roberts/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://community.dur.ac.uk/d.a.t.roberts">Dave's Hacks</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="http://community.dur.ac.uk/d.a.t.roberts/about" >About</a></li>
		        
				<li><a href="http://community.dur.ac.uk/d.a.t.roberts/articles" >Articles</a></li>
		        
				<li><a href="http://community.dur.ac.uk/d.a.t.roberts/cv" >CV</a></li>
		        
		        <li><i class="icon-feed"></i> <a href="http://community.dur.ac.uk/d.a.t.roberts/feed.xml" title="Atom/RSS feed">Feed</a>
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <div class="article-author-top">
    <img src="http://community.dur.ac.uk/d.a.t.roberts/images/bio.jpg" class="bio-photo" alt="David Roberts bio photo"></a>
<h3>David Roberts</h3>
<p>A PhD Computer Science guy working through life</p>
<a href="http://twitter.com/biomood" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>




<a href="http://github.com/https://github.com/davidatroberts" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


  </div>
  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      <h1 itemprop="name">A Ghost, an Arduino and Go</h1>
      <h2></h2>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap" itemprop="text">
      <h3 id="introduction">Introduction</h3>

<p>Going through Newcastle the other month, I out of habit went to visit Forbidden Planet, for comics but mainly for the toys and stuff. </p>

<p class="image-pull-right"><img src="http://community.dur.ac.uk/d.a.t.roberts/images/IMG_20130917_233156.jpg" alt="Pacman Ghost" /></p>

<p>I came across what is possible one of the best lamps I have seen, I am of course talking about the LED Pacman ghost lamp that can be seen on the right. Now what makes it particularly interesting is that it comes with an infra-red (IR) remote control that can be used to change the colour as well as set a number of effects such as a fading and strobe effects. </p>

<h3 id="checking-a-few-things">Checking a few things</h3>
<p>After playing around with it a for a little while I thought it would be interesting to see whether the system uses the standard IR frequency. What do I mean by standard, well most TV, music systems and a lot of other devices that can be controlled by IR devices send data over the IR LEDs at a specific frequency, 38kHz to be exact. After purchasing an IR receiver that was able to receive data at this frequency it was time to dig out the Arduino. </p>

<p>Without knowing the exact format the IR remote control was using to send the data I couldn’t be sure of the individual codes or even if it was using the 38kHz frequency. After a bit of googling I found Ken Shirriff’s multi-protocol infrared remote library for the arduino <sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. Using the example code on his website that I’ve given below, I was able to see that the IR was using a known format and could view the individual hex codes for each of the different buttons on the remote. There are a few different formats that are used to send/receive IR codes, by default the code below will not give the format that’s being used. To find this edit the <em>IRemote.h</em> file that can found in the IRremote folder where the Arduino library was installed and add the line <em>#define DEBUG</em>, just above the line <em>class decode_results {</em>.</p>

<div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;IRremote.h&gt;</span>

<span class="kt">int</span> <span class="n">RECV_PIN</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>
<span class="n">IRrecv</span> <span class="nf">irrecv</span><span class="p">(</span><span class="n">RECV_PIN</span><span class="p">);</span>
<span class="n">decode_results</span> <span class="n">results</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
  <span class="n">irrecv</span><span class="p">.</span><span class="n">enableIRIn</span><span class="p">();</span> <span class="c1">// Start the receiver</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">irrecv</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">results</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">value</span><span class="p">,</span> <span class="n">HEX</span><span class="p">);</span>
    <span class="n">irrecv</span><span class="p">.</span><span class="n">resume</span><span class="p">();</span> <span class="c1">// Receive the next value</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>From running through the code with the DEBUG flag it became apparent that it was using the NEC protocol. Now as a test I copied down one of the codes, 0xF720DF, in this case the HEX value that was sent out when the red colour was chosen and used the code below to test that it would work.</p>

<div class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;IRremote.h&gt;</span>
<span class="n">IRsend</span> <span class="n">irsend</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">irsend</span><span class="p">.</span><span class="n">sendNEC</span><span class="p">(</span><span class="mh">0xF720DF</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>Lo and behold the lamp turned red.</p>

<h3 id="software-design">Software Design</h3>
<p>Having proven that it was possible to control the lamp via IR using the arduino, it was time to design the software to allow the lamp to be controlled via REST web services. I decided to use two main pieces of software, the first running on the Arduino that takes commands via serial regarding the colour and effect to use and then proceed to send these in the format the lamp expects. The second was a set a of RESTful web services written in go that receives the commands, interprets them and then sends them over serial to the arduino. </p>

<h4 id="arduino">Arduino</h4>
<p>The arduino code is relatively simple, there’s just a continuous loop that reads a byte from the serial. This byte is used as a command byte that controls the type of effect that we want to show. A switch case then just parses through the command bytes,
at the moment there are four types of commands that can be used. <em>Constant</em>, <em>flash</em>, <em>alt</em> and finally <em>off</em>. </p>

<p>For the constant command the code waits for a second byte that defines the colour to use. This is then displayed on the lamp until another command is received. The flash again just takes a single byte as the colour, and alternates between showing the colour given and blank. In order to produce accurate timing I’m using this <a href="https://github.com/JChristensen/Timer">timer</a> library. The alt command produces an effect similar to the alt command except that it takes two colours, and then alternatively flashes between two two colours. Off does what you might expect and switches the lamp off. The code for the arduino side can be found in its entirety <a href="https://gist.github.com/biomood/7493332">here</a>.</p>

<h4 id="restful-web-services">RESTful web services</h4>
<p>The go side is split into two parts, the first part handles the web services and the second part handles communication with the arduino via serial.</p>

<p>In order to create the RESTful web services I’m using the <a href="https://github.com/ant0ine/go-json-rest">Go-Json-Rest</a> library. An example of setting one of the handlers is below:</p>

<div class="highlight"><pre><code class="language-go" data-lang="go"><span class="nx">handler</span> <span class="o">:=</span> <span class="nx">rest</span><span class="p">.</span><span class="nx">ResourceHandler</span><span class="p">{}</span>
<span class="nx">handler</span><span class="p">.</span><span class="nx">SetRoutes</span><span class="p">(</span>
	<span class="nx">rest</span><span class="p">.</span><span class="nx">Route</span><span class="p">{</span><span class="s">&quot;POST&quot;</span><span class="p">,</span> <span class="s">&quot;/ghost&quot;</span><span class="p">,</span> <span class="nx">PostCmd</span><span class="p">},</span>
<span class="p">)</span>

<span class="nx">http</span><span class="p">.</span><span class="nx">ListenAndServe</span><span class="p">(</span><span class="s">&quot;:8080&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">handler</span><span class="p">)</span></code></pre></div>

<p>The code for the <em>PostCmd</em> is then below, in a nutshell the function decodes the REST payload into JSON and then parses through the command contained in the JSON. The appropriate function is then called in the underlying <em>ghostlib</em> library. </p>

<div class="highlight"><pre><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nx">PostCmd</span><span class="p">(</span><span class="nx">w</span> <span class="o">*</span><span class="nx">rest</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">rest</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
	<span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">Command</span><span class="p">{}</span>
	<span class="nx">err</span> <span class="o">:=</span> <span class="nx">r</span><span class="p">.</span><span class="nx">DecodeJsonPayload</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">cmd</span><span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">rest</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">Error</span><span class="p">(),</span> <span class="nx">http</span><span class="p">.</span><span class="nx">StatusBadRequest</span><span class="p">)</span>
		<span class="k">return</span>
	<span class="p">}</span>
	<span class="nx">err</span> <span class="p">=</span> <span class="kc">nil</span>

	<span class="k">switch</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">Cmd</span> <span class="p">{</span>
	<span class="k">case</span> <span class="s">&quot;CONST&quot;</span><span class="p">:</span>
		<span class="k">if</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">Colour</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
			<span class="nx">rest</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;missing parameter&quot;</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">err</span> <span class="p">=</span> <span class="nx">ghostlib</span><span class="p">.</span><span class="nx">ConstantColour</span><span class="p">(</span><span class="nx">cmd</span><span class="p">.</span><span class="nx">Colour</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="k">case</span> <span class="s">&quot;FLASH&quot;</span><span class="p">:</span>
		<span class="k">if</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">Colour</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
			<span class="nx">rest</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;missing parameter&quot;</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">err</span> <span class="p">=</span> <span class="nx">ghostlib</span><span class="p">.</span><span class="nx">FlashColour</span><span class="p">(</span><span class="nx">cmd</span><span class="p">.</span><span class="nx">Colour</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="k">case</span> <span class="s">&quot;ALT&quot;</span><span class="p">:</span>
		<span class="k">if</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">Colour</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="o">||</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">ColourAlt</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
			<span class="nx">rest</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;missing parameters&quot;</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="nx">err</span> <span class="p">=</span> <span class="nx">ghostlib</span><span class="p">.</span><span class="nx">AlternateColour</span><span class="p">(</span><span class="nx">cmd</span><span class="p">.</span><span class="nx">Colour</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">.</span><span class="nx">ColourAlt</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="k">case</span> <span class="s">&quot;ON&quot;</span><span class="p">:</span>
		<span class="nx">err</span> <span class="p">=</span> <span class="nx">ghostlib</span><span class="p">.</span><span class="nx">On</span><span class="p">()</span>
	<span class="k">case</span> <span class="s">&quot;OFF&quot;</span><span class="p">:</span>
		<span class="nx">err</span> <span class="p">=</span> <span class="nx">ghostlib</span><span class="p">.</span><span class="nx">Off</span><span class="p">()</span>
	<span class="k">default</span><span class="p">:</span>
		<span class="nx">rest</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;unknown command&quot;</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">rest</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&quot;Server Error&quot;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>Data is sent to the arduino via serial and for this I’m using the goserial library available <a href="https://github.com/tarm/goserial">here</a>. To open a connection to the arduino via serial using this library first we must set the string of the connection to make and speed, open the port and then when we’re ready to write to the port just call Write with the bytes to send.</p>

<div class="highlight"><pre><code class="language-go" data-lang="go"><span class="nx">c</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">serial</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span><span class="nx">Name</span><span class="p">:</span> <span class="s">&quot;/dev/tty.usbserial-A600agDn&quot;</span><span class="p">,</span> <span class="nx">Baud</span><span class="p">:</span> <span class="mi">9600</span><span class="p">}</span>
<span class="nx">port</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">serial</span><span class="p">.</span><span class="nx">OpenPort</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
	<span class="nx">log</span><span class="p">.</span><span class="nx">Fatal</span><span class="p">(</span><span class="kt">error</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">vals</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nx">vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="nx">cmds</span><span class="p">[</span><span class="s">&quot;OFF&quot;</span><span class="p">]</span>
<span class="nx">port</span><span class="p">.</span><span class="nx">Write</span><span class="p">(</span><span class="nx">vals</span><span class="p">)</span></code></pre></div>

<p>That pretty much covers how to send data via serial to the arduino, the full code for go RESTful web services can be found <a href="https://dl.dropboxusercontent.com/u/1995939/ArduinoIR.zip">here</a>.</p>

<p>This covers part 1 of using web services to control the colour of a lamp with an arduino. In a next post I’ll go over the android application I’ve developed to remotely control the lamp as well as flash when a text message or phone call is made.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">

      <p>Available at: http://www.righto.com/2009/08/multi-protocol-infrared-remote-library.html <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="http://community.dur.ac.uk/d.a.t.roberts/images/bio.jpg" class="bio-photo" alt="David Roberts bio photo"></a>
<h3>David Roberts</h3>
<p>A PhD Computer Science guy working through life</p>
<a href="http://twitter.com/biomood" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>




<a href="http://github.com/https://github.com/davidatroberts" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


        </div>
        <p class="byline"><strong>A Ghost, an Arduino and Go</strong> was published on <time datetime="2013-11-16T00:00:00-05:00" itemprop="datePublished">November 16, 2013</time> and last modified on <time datetime="2013-09-17" itemprop="dateModified">September 17, 2013</time> by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name"><a href="http://community.dur.ac.uk/d.a.t.roberts/about" title="About David Roberts" itemprop="url">David Roberts</a></span></span>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://community.dur.ac.uk/d.a.t.roberts/articles">View all articles</a>)</small></h4>
    <ul>
    
      
      
        
          
        
      
      
      <li><a href="http://community.dur.ac.uk/d.a.t.roberts/articles/dingux3D" title="OpenDingux 3D (slow edition)">OpenDingux 3D (slow edition)</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://community.dur.ac.uk/d.a.t.roberts/articles/opendingux" title="OpenDingux Dev Environment for OS X (sort of)">OpenDingux Dev Environment for OS X (sort of)</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://community.dur.ac.uk/d.a.t.roberts/articles/chumby-go" title="Chumby and Go">Chumby and Go</a></li>
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2016 David Roberts. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://community.dur.ac.uk/d.a.t.roberts/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://community.dur.ac.uk/d.a.t.roberts/assets/js/scripts.min.js"></script>
	        

</body>
</html>
