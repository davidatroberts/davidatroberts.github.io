<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="Coffeescript, Playbook and the game that&#39;s almost complete"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@biomood"/>



  	<meta property="og:title" content="Coffeescript, Playbook and the game that&#39;s almost complete &middot; Dave&#39;s Hacks" />
  	<meta property="og:site_name" content="Dave&#39;s Hacks" />
  	<meta property="og:url" content="https://davidatroberts.github.io/post/coffeescript-playbook-and-the-game-thats-almo/" />

    
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2012-05-30T20:20:00Z" />

    
    <meta property="article:tag" content="coffeescript" />
    
    <meta property="article:tag" content="html5" />
    
    <meta property="article:tag" content="playbook" />
    
    

    <title>Coffeescript, Playbook and the game that&#39;s almost complete &middot; Dave&#39;s Hacks</title>

    
    <meta name="description" content="Prior to my previous post where I was looking into using Perlin Noise in a game I was developing a game for my recently acquired Playbook. (The Playbook itself " />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://davidatroberts.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://davidatroberts.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://davidatroberts.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://davidatroberts.github.io/css/nav.css" />

    

    
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
        
        <script>hljs.initHighlightingOnLoad();</script>
    

    
      
          <link href="https://davidatroberts.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Dave&#39;s Hacks" />
      
      
    
    <meta name="generator" content="Hugo 0.56.0-DEV" />

    <link rel="canonical" href="https://davidatroberts.github.io/post/coffeescript-playbook-and-the-game-thats-almo/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": 
    },
    "author": {
        "@type": "Person",
        "name": ,
        
        "url": https://davidatroberts.github.io/,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "headline": Coffeescript, Playbook and the game that&#39;s almost complete,
    "name": Coffeescript, Playbook and the game that&#39;s almost complete,
    "wordCount": 1055,
    "timeRequired": "PT5M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": en
    },
    "url": https://davidatroberts.github.io/post/coffeescript-playbook-and-the-game-thats-almo/,
    "datePublished": 2012-05-30T20:20Z,
    "dateModified": 2012-05-30T20:20Z,
    
    "keywords": coffeescript, html5, playbook,
    "description": ,
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": https://davidatroberts.github.io/post/coffeescript-playbook-and-the-game-thats-almo/
    }
}
    </script>
    


    

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://davidatroberts.github.io/about">About Me</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://davidatroberts.github.io/">Blog</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://davidatroberts.github.io/cv">CV</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="https://davidatroberts.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Coffeescript, Playbook and the game that&#39;s almost complete</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2012-05-30T20:20:00Z">
            May 30, 2012
          </time>
        
         
          <span class="post-tag small"><a href="https://davidatroberts.github.io//tags/coffeescript/">#coffeescript</a></span>
         
          <span class="post-tag small"><a href="https://davidatroberts.github.io//tags/html5/">#html5</a></span>
         
          <span class="post-tag small"><a href="https://davidatroberts.github.io//tags/playbook/">#playbook</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <p>Prior to my previous post where I was looking into using Perlin Noise in a game I was developing a game for my recently acquired Playbook. (The Playbook itself in my opinion is a very underrated little tablet and I am thoroughly enjoying using it.) You have a set of 5 by 5 lights and the goal is to switch off all of the lights, when a light is clicked the two vertical and the two horizontal lights adjacent to the light will switch on/off depending on whether the light was lit, I&rsquo;ve called it OutLikeA (original, I know). I chose to develop the game using Webworks, Coffeescript and HTML5, I&rsquo;ll outline the reasons and design below.</p>

<p><strong>Why?</strong></p>

<p>I&rsquo;ve chosen to use coffeescript mainly as a learning exercise for myself, and I also wanted to use the provided class system so that I can easily have base classes that implement some of the default methods such as <em>update</em> and <em>draw</em>. (I know you can do this in javascript, as I said learning exercise) As reference material these books: <a href="http://arcturo.github.com/library/coffeescript/01_introduction.html">The Litte Book on Coffeescript</a> and <a href="http://autotelicum.github.com/Smooth-CoffeeScript/">Smooth Coffeescript</a> really helped me ge to grips with the language.</p>

<p>Now I could have developed the game using the NDK for Playbook or any of the other development options but I wanted to see what all the HTML5 canvas fuss was about. There is one reason why I might not use HTML5 to produce games on the Playbook again, however I&rsquo;ll go into that later.</p>

<p><strong>How?</strong></p>

<p><strong><em>UI</em></strong></p>

<p>OutLikeA uses a number of different screens, the start screen, level select, game screen and a few others. There are a few ways to move between screens and there also back buttons and menu buttons to go back a screen or show a menu. The way I have implemented this is that each displayable item in the game extends a simple class that defines an <em>update</em>, <em>draw</em> and <em>subscribeclick</em> function. For each iteration of the main game loop the <em>update</em> function is called and then the <em>draw</em> function; the <em>subscribeclick</em> function allows an item to listen if the screen is clicked and respond.</p>

<p>To track history and allow easy movement between screens I use a stack, when a screen is to be displayed it is pushed on to the stack and then in the game loop the top of the stack is displayed. When a user goes back to a previous screen the item on the top of the stack is popped and so the previous screen is displayed.</p>

<p><em><strong>Levels</strong></em></p>

<p>Each level is stored in an array in a json file and has the following attributes: name, board, locked and moves. The name is simply the name of the level, the board stores a 2D array of 1s and 0s where a 1 represents a light that is switched on and the 0 represents a light that is switched off. The locked key stores a boolean of whether the level is initally locked the first time a user starts the game and finally the moves key stores the minimum number of moves that are required to complete the game. When a level is completed a value in local storage is set, this keeps a record of which levels a user and allows the level select screen to block access to locked levels.</p>

<p><em><strong>JS</strong></em></p>

<p>I&rsquo;m using a few helpful javascript libraries in the game: modernizr, zepto and radio. Modernzr is a neat little library that detects what features are available on the client platform, I&rsquo;m using this to detect whetehr the device supports touch. This is so that if the game is running on a Playbook I can catch the touch events and remove the delay when clicking, if the game is running on a device without a touch screen it will just use standard touch events. Zepto is being used in place of jQuery, it provides most of the capability in a fraction of the size. Finally Radio.js is being used to implement the observer pattern, when a touch or click event is thrown any items that want to respond to this simply stated when they are initialised that they would like to subscribe to these events.</p>

<p><strong>Is it complete?</strong></p>

<p>To the all important question, the game is very nearly complete I just need to add a few more levels and then it&rsquo;ll be ready to upload to the app store.</p>

<p><strong>Issues</strong></p>

<p>Now I said earlier that I might not use HTML5 to produce games for the Playbook again, the main reason is that there seems to be a bug with the HTML5 audio implementation whereby small sounds will either not play or play at random times. This is a tad annoying, and for now I think I&rsquo;ll just realease the game anyway without sound and hopefully when the 2.1 OS update comes out this will fix the issue. (According to crackberry this might just be afew days away)</p>

<p><strong>Source</strong></p>

<p>I&rsquo;m not releasing the source just yet, but it will be available when the game is released and the game itself will be free.</p>

<p>And of course I can&rsquo;t finish without the required screenshot, my fanatastic skills with Paint shines though.</p>

<p><img src="https://davidatroberts.github.io/images/outlikea.jpg" alt="Outlikea" /></p>

<p><strong>Update 17/06/2012</strong></p>

<p>I&rsquo;ve updated to the beta 2.1 playbook OS, and annoyingly it looks like there is still a bug with HTML5 web audio, the sound plays twice. Close but no cigar. So for this version I&rsquo;ll disable sound by default and allow it later when it&rsquo;s fixed. All that&rsquo;s left to do now is to add the final levels and it&rsquo;s ready for the wide world.</p>

<p><strong>Update 3/07/2012</strong></p>

<p>The game has now been released on the app world, and it&rsquo;s immediately got one scathing review: &ldquo;This game is the worst game I&rsquo;ve EVER played&gt;&gt;&gt;&gt;&gt;It doesn&rsquo;t make ANY SENSE!!!&rdquo;. Now, I know the game isn&rsquo;t a tour de force, and it&rsquo;s still an early phase, but really this is the worst game ever? Guess someone has never played Superman 64. Saying that I don&rsquo;t particular mind that it&rsquo;s a bad review, it&rsquo;d just be nice to be able to contact the user to see what issues he was facing and see if they can be fixed for the next version as far as I can tell there&rsquo;s no way for me to do that. Oh well it&rsquo;s out there and that&rsquo;s something.</p>

    </section>


  <footer class="post-footer">


    









<section class="author">
  <h4><a href="https://davidatroberts.github.io/">David Roberts</a></h4>
  
  <p>Read <a href="https://davidatroberts.github.io/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Newcastle upon Tyne, UK</span>
    <span class="author-link icon-link"><a href="https://davidatroberts.github.io/">https://davidatroberts.github.io/</a></span>
  </div>
</section>




    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Coffeescript%2c%20Playbook%20and%20the%20game%20that%27s%20almost%20complete&nbsp;-&nbsp;Dave%27s%20Hacks&amp;url=https%3a%2f%2fdavidatroberts.github.io%2fpost%2fcoffeescript-playbook-and-the-game-thats-almo%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdavidatroberts.github.io%2fpost%2fcoffeescript-playbook-and-the-game-thats-almo%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fdavidatroberts.github.io%2fpost%2fcoffeescript-playbook-and-the-game-thats-almo%2f&amp;description=Coffeescript%2c%20Playbook%20and%20the%20game%20that%27s%20almost%20complete"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fdavidatroberts.github.io%2fpost%2fcoffeescript-playbook-and-the-game-thats-almo%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script>




var disqus_config = function () {
this.page.url = "https:\/\/davidatroberts.github.io\/post\/coffeescript-playbook-and-the-game-thats-almo\/";  
this.page.identifier = "https:\/\/davidatroberts.github.io\/post\/coffeescript-playbook-and-the-game-thats-almo\/"; 
};

(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://daveshacks.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>








  </footer>
</article>

</main>


  <aside class="read-next">
  
      <a class="read-next-story" style="no-cover" href="https://davidatroberts.github.io/post/big-trak-jr-and-raspberry-pi-part-1/">
          <section class="post">
              <h2>Big Trak Jr and Raspberry Pi - part 1</h2>
              
          </section>
      </a>
  
  
      <a class="read-next-story prev" style="no-cover" href="https://davidatroberts.github.io/post/perlin-noise/">
          <section class="post">
              <h2>Perlin Noise</h2>
          </section>
      </a>
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Dave&#39;s Hacks</a> &copy; Copyright 2019 David Roberts</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://davidatroberts.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://davidatroberts.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://davidatroberts.github.io/js/index.js"></script>
    
</body>
</html>

